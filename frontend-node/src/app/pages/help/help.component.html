<div class="flex flex-col min-h-screen p-8 mx-auto max-w-[1400px] text-neutral-700">

  <app-header class="mb-8"></app-header>
  
  <div>
    <div class="mb-7 text-center">
      <h2 class="text-2xl font-semibold text-neutral-800 leading-7">{{ data()?.title }}</h2>
      <p class="text-neutral-500">{{ data()?.tag }}</p>
    </div>
  
    <div class="flex gap-10">
  
      <div class="flex flex-col items-center gap-6 flex-1 grow-[2] -bg-pink-500/30">
        <div class="flex justify-center aspect-video w-full bg-neutral-300 overflow-hidden rounded-lg">
          <img class="h-full" [src]="data()?.image" alt="">
        </div>
        <p class="text-left px-4">{{ data()?.description }}</p>
      </div>
  
      <div class="flex-1 -bg-blue-500/30">
        <div class="flex flex-col gap-6">
  
          <div>
            <div class="relative mb-4 w-full h-[6px] bg-neutral-200">
              <div [ngStyle]="widthStyle()" class="absolute h-full bg-[#f40b59]"></div>
            </div>
            <p class="text-3xl font-semibold text-[#f40b59]"> {{ data()?.currentValue | currency : 'BRL' }}</p>
            <p class="text-sm text-neutral-500">
              contribuido da meta de
              <span class="font-semibold">{{ data()?.totalValue | currency : 'BRL' }}</span>
            </p>
          </div>
          <div>
            <p class="text-3xl font-semibold text-neutral-600/[85%]">{{ data()?.helpDonatedCount }}</p>
            <p class="text-sm text-neutral-500">helpinhos</p>
          </div>
          <button (click)="donate()" class="relative mb-6 py-4 w-full bg-[#f40b59] disabled:bg-neutral-500 text-white text-center font-medium rounded-lg" [disabled]="data().user.email === context.userInfo()?.user?.email">
            @if (data().user.email !== context.userInfo()?.user?.email) {
              Ajudar este helpinho
              @if (context.userInfo()) {
                <p class="absolute left-0 -bottom-6 text-neutral-400 text-sm font-normal">
                  <span class="font-semibold">DevMode:</span> Clique para doar entre 25 e 200 R$. 
                </p>
              }
            } @else {
              Este helpinho Ã© seu!
            }

          </button>
          <div class="flex gap-4">
            <div class="flex justify-center items-center w-8 h-8 rounded-full overflow-hidden outline outline-2 outline-white/50">
              <img [src]="data().user?.image" class="bg-white w-14 h-14 object-cover">
            </div>
            <div class="flex flex-col text-sm">
              <p class="font-semibold leading-4">{{ data()?.user.name }}</p>
              <p class="text-[13px] text-neutral-600">{{ data()?.user.email }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  
  </div>
</div>
